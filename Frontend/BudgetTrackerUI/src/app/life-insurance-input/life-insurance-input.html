<h2 mat-dialog-title>Nouvelle Saisie</h2>

<mat-dialog-content>
    <div style="display: flex; gap: 20px; margin: 10px 0 20px 0;">
        <div>
            <label>Contrat : </label>
            <select [ngModel]="selectedAccountId()" (ngModelChange)="onAccountChange($event)">
                <option *ngFor="let acc of accounts()" [value]="acc.id">{{ acc.owner }} - {{ acc.name }}</option>
            </select>
        </div>
        <div>
            <label>Date : </label>
            <input type="date" [(ngModel)]="saisieDate">
        </div>
    </div>

    <ag-grid-angular style="width: 100%; height: 300px;" class="ag-theme-alpine" [columnDefs]="columnDefs"
        [rowData]="rowData()" (cellValueChanged)="onCellValueChanged($event)"> </ag-grid-angular>

    <div style="text-align: right; margin-top: 15px; font-size: 1.2em; font-weight: bold;">
        Total Ã  enregistrer : {{ totalSaisie() | currency:'EUR' }}
    </div>
</mat-dialog-content>

<mat-dialog-actions align="end">
    <button mat-button (click)="dialogRef.close()">Annuler</button>
    <button mat-raised-button color="primary" (click)="onSave()">Enregistrer</button>
</mat-dialog-actions>